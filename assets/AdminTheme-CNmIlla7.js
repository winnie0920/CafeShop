import{u as j,_ as M}from"./showStore-m6tnM1e-.js";import{_ as N}from"./ConfirmBtn-Bio-Qf65.js";import{_ as O,a as A,r as x,j as R,h as n,c as m,d as e,F as T,l as V,f as a,t as D,q as C,e as i,s as w,k as y,i as q,K as F,m as E,n as K,M as L}from"./index-BjlnAQqZ.js";import{u as z}from"./imageStore-fQkg73oQ.js";import{_ as G}from"./AdminTitleBar-BhEdC3Em.js";import{c as u}from"./User-CfpT1Yns.js";import"./DropDown-FOo6tuF-.js";const H={key:0},J={class:"admin__container"},Q={class:"d-flex gap-4 overflow-hidden"},W=["src"],X={class:"d-flex flex-column justify-content-evenly"},Y={class:"admin__title"},Z={class:"d-flex justify-content-end gap-2 position-relative"},ee={class:"admin__start"},te={__name:"AdminThemeCard",props:{data:Object},emits:["deleteData"],setup(S,{emit:h}){const _=S,f=h,g=z(),c=j(),r=A(),t=x(null),s=o=>{t.value={name:o.name,content:o.content,image:o.image},q.push({name:"AdminThemeDetail",query:{parent:o.id}})},p=x(null),v=o=>{c.togglePopupShow("check",!0),p.value=o},k=()=>{c.togglePopupShow("check",!1),r.pushMsg("Common-Ok","成功刪除","brown"),F(()=>{f("deleteData",p.value)})},I=o=>{c.togglePopupShow("check",o)};return(o,d)=>{const P=E,$=N,B=R("router-view"),U=M;return n(),m(T,null,[o.$route.path!=="/admin/theme/detail"?(n(),m("div",H,[e("div",J,[(n(!0),m(T,null,V(_.data,l=>(n(),m("div",{key:l.id,class:"admin__card"},[e("div",Q,[e("img",{src:a(g).getImageUrl(l.image),alt:"mealImage"},null,8,W),e("div",X,[e("h4",Y,D(l.name),1),e("h6",null,D(l.content),1)])]),e("div",Z,[e("div",ee,[d[0]||(d[0]=e("p",{class:"hover-text"},"已啟用",-1)),C("",!0),i(P,{iconName:"Common-Ok"}),C("",!0)]),i($,{styles:["brown","circle"],iconName:"Common-Pencil",onClick:b=>s(l)},null,8,["onClick"]),i($,{styles:["gray","circle"],iconName:"Common-Trash",onClick:b=>v(l)},null,8,["onClick"])])]))),128))])])):(n(),w(B,{key:1,data:a(t)},null,8,["data"])),i(U,{show:a(c).popupShow.check,title:"刪除餐點",button:"確認",onCloseShow:I,onConfirmPopup:k,style:{width:"30rem",height:"15rem"}},{main:y(()=>d[1]||(d[1]=[e("div",{class:"popup__text-content"},[e("p",null,"是否確定刪除餐點？")],-1)])),_:1},8,["show"])],64)}}},oe=O(te,[["__scopeId","data-v-99a11937"]]),ne={class:"User__container"},se={class:"col-auto d-flex me-sm-auto me-none p-0"},ae={key:0,class:"col-auto d-flex p-0"},de={__name:"AdminTheme",setup(S){const h=A(),_=K(),f=L(),g=()=>{h.pushMsg("Common-Ok","同步分類完畢","brown")},c=r=>{const t=u.findIndex(s=>s.name===r.name);t!==-1&&u.splice(t,1),f.proxy.$forceUpdate()};return(r,t)=>{const s=N,p=G,v=oe;return n(),m("div",ne,[i(p,{class:"sticky-top",dropdown:null,data:a(u)},{refresh:y(()=>[e("div",se,[r.$route.path!=="/admin/theme/detail"?(n(),w(s,{key:0,title:"同步分類",iconName:"Meal-Refresh",onClick:g})):(n(),w(s,{key:1,title:"返回",iconName:"User-Return",onClick:t[0]||(t[0]=k=>a(_).go(-1))}))])]),add:y(()=>[r.$route.path!=="/admin/theme/detail"?(n(),m("div",ae,[i(s,{title:"新增分類",iconName:"User-Add",onClick:t[1]||(t[1]=k=>a(_).push({name:"AdminThemeDetail"}))})])):C("",!0)]),_:1},8,["data"]),i(v,{onDeleteData:c,data:a(u)},null,8,["data"])])}}};export{de as default};
