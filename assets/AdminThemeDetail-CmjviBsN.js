import{_ as v}from"./ConfirmBtn-Bio-Qf65.js";import{_ as x}from"./CheckInput-B3X8O6x1.js";import{_ as T}from"./AdminUploadImg-BrfQD7np.js";import{c as i}from"./User-CfpT1Yns.js";import{d as B}from"./Admin-CYE_-21Z.js";import{u as F}from"./showStore-m6tnM1e-.js";import{_ as A,r as O,u as w,a as C,o as D,c as V,d as a,e as m,f as U,F as $,L as j,i as q,h as E}from"./index-BjlnAQqZ.js";import{u as M}from"./imageStore-fQkg73oQ.js";const N={class:"form__frame gap-3"},L={class:"form__container check__inputBox"},P={method:"post",enctype:"multipart/form-data"},R={class:"form__UploadImg"},z={class:"check__inputBox"},G={class:"form__add-controller"},H={__name:"AdminThemeDetail",props:{data:{type:Object,required:!1}},emits:["deleteData"],setup(l,{emit:J}){const p=l,_=O([...B]),r=F(),n=w(),c=M(),u=C(),f=j(),h=[{id:"name",message:"請輸入正確名稱。"}],g=()=>{const e=i.find(s=>s.name===p.data.name);r.theme=e;const{name:o,content:t}=p.data;Object.assign(n.choice,{name:o,content:t,status:1})},I=()=>{n.clearError();const e=h.map(t=>n.validateInput(t.id,t.name,t.message)),o=c.validateImage();return!(e.includes(!1)||!o)},y=()=>({name:"",content:"",status:1}),b=e=>{i.find(t=>t.id===e.id)||i.push({...e})},S=()=>{if(!I())return;let e={id:r.theme.id?r.theme.id:i.length+1,image:c.localUploadImg||c.uploadImg,...n.choice};b(e),u.pushMsg("Common-Ok","送出成功","brown"),q.push({name:"AdminTheme"})};return D(()=>{n.choice=y(),r.theme="",f.query.parent?g():c.clearImage()}),(e,o)=>{var d;const t=T,s=x,k=v;return E(),V($,null,[a("article",N,[a("div",L,[a("form",P,[a("div",R,[m(t,{image:(d=p.data)==null?void 0:d.image},null,8,["image"])])]),a("div",z,[m(s,{style:{marginTop:"1rem"},regex:/^.+$/,basic:{type:"input",id:"name",name:"名稱"}}),m(s,{style:{marginTop:"1rem"},regex:/^.+$/,basic:{type:"input",id:"content",name:"描述"}}),m(s,{style:{padding:"0",marginTop:"1rem"},option:U(_),basic:{type:"select"}},null,8,["option"])])])]),a("div",G,[m(k,{styles:["brown"],class:"ms-auto",title:"確認",onClick:o[0]||(o[0]=K=>S())})])],64)}}},ae=A(H,[["__scopeId","data-v-bafb0dec"]]);export{ae as default};
